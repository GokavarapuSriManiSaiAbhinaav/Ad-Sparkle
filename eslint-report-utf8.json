[{"filePath":"D:\\ad-sparkle-admin\\app\\dashboard\\[groupId]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":59,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1643,1646],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1643,1646],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":70,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":70,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1851,1854],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1851,1854],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":80,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":80,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2040,2043],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2040,2043],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":144,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":144,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4610,4613],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4610,4613],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":158,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":158,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5360,5363],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5360,5363],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":184,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":184,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6230,6233],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6230,6233],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":243,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":243,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8131,8134],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8131,8134],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":261,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":261,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8819,8822],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8819,8822],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":290,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":290,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9785,9788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9785,9788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":296,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":296,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9999,10002],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9999,10002],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":387,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":387,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13046,13049],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13046,13049],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":394,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":394,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13250,13253],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13250,13253],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":426,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":426,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14452,14455],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14452,14455],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":457,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":457,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15697,15700],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15697,15700],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":523,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":523,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[18023,18026],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[18023,18026],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":554,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":554,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[19211,19214],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[19211,19214],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isSelectionComplete' is assigned a value but never used.","line":615,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":615,"endColumn":30}],"suppressedMessages":[],"errorCount":16,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useEffect, useState, useMemo, useCallback } from \"react\";\r\nimport { useRouter, useParams, useSearchParams } from \"next/navigation\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { toast } from \"sonner\";\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogHeader,\r\n    DialogTitle,\r\n    DialogTrigger,\r\n} from \"@/components/ui/dialog\";\r\n\r\nimport {\r\n    ArrowLeft,\r\n    Search,\r\n    Plus,\r\n    Edit2,\r\n    Phone,\r\n    Loader2,\r\n    AlertCircle,\r\n    Users,\r\n    CalendarDays,\r\n    Filter,\r\n    CheckCircle2,\r\n    Copy,\r\n} from \"lucide-react\";\r\nimport { ThemeToggle } from \"@/components/theme-toggle\";\r\nimport { ProfileDropdown } from \"@/components/profile-dropdown\";\r\nimport { generatePaymentReport } from \"@/utils/generateReport\";\r\nimport dynamic from \"next/dynamic\";\r\n\r\nconst QRCode = dynamic(() => import(\"react-qr-code\"), {\r\n    ssr: false,\r\n    loading: () => (\r\n        <div className=\"h-[200px] w-[200px] flex items-center justify-center bg-muted/20 animate-pulse rounded-2xl border border-border\">\r\n            <Loader2 className=\"animate-spin text-muted-foreground h-6 w-6\" />\r\n        </div>\r\n    ),\r\n});\r\n\r\ntype Group = {\r\n    id: string;\r\n    name: string;\r\n    description?: string;\r\n    [key: string]: any;\r\n};\r\n\r\ntype Promoter = {\r\n    id: string;\r\n    group_id: string;\r\n    name: string;\r\n    phone: string;\r\n    upi_id?: string;\r\n    join_date: string;\r\n    leave_date?: string | null;\r\n    [key: string]: any;\r\n};\r\n\r\ntype MonthlyRecord = {\r\n    id: string;\r\n    promoter_id: string;\r\n    year: number;\r\n    month: number;\r\n    days: number;\r\n    payment_completed: boolean;\r\n    [key: string]: any;\r\n};\r\n\r\nconst currentYear = new Date().getFullYear();\r\nconst YEARS = Array.from({ length: 5 }, (_, i) => currentYear + i);\r\nconst MONTHS = [\r\n    { value: \"1\", label: \"January\" },\r\n    { value: \"2\", label: \"February\" },\r\n    { value: \"3\", label: \"March\" },\r\n    { value: \"4\", label: \"April\" },\r\n    { value: \"5\", label: \"May\" },\r\n    { value: \"6\", label: \"June\" },\r\n    { value: \"7\", label: \"July\" },\r\n    { value: \"8\", label: \"August\" },\r\n    { value: \"9\", label: \"September\" },\r\n    { value: \"10\", label: \"October\" },\r\n    { value: \"11\", label: \"November\" },\r\n    { value: \"12\", label: \"December\" },\r\n];\r\n\r\nexport default function GroupDetailPage() {\r\n    const searchParams = useSearchParams();\r\n    const router = useRouter();\r\n    const params = useParams();\r\n    const groupId = params?.groupId as string;\r\n\r\n    // Selection states (derive from URL)\r\n    const selectedYear = searchParams.get(\"year\") || \"\";\r\n    const selectedMonth = searchParams.get(\"month\") || \"\";\r\n\r\n    const handleYearChange = (year: string) => {\r\n        const newParams = new URLSearchParams(searchParams.toString());\r\n        newParams.set(\"year\", year);\r\n        router.push(`/dashboard/${groupId}?${newParams.toString()}`, { scroll: false });\r\n    };\r\n\r\n    const handleMonthChange = (month: string) => {\r\n        const newParams = new URLSearchParams(searchParams.toString());\r\n        newParams.set(\"month\", month);\r\n        router.push(`/dashboard/${groupId}?${newParams.toString()}`, { scroll: false });\r\n    };\r\n\r\n    const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n    // Data states\r\n    const [group, setGroup] = useState<Group | null>(null);\r\n    const [promoters, setPromoters] = useState<Promoter[]>([]);\r\n    const [monthlyRecords, setMonthlyRecords] = useState<MonthlyRecord[]>([]);\r\n\r\n    // UI Flow states\r\n    const [hasLoadedMembers, setHasLoadedMembers] = useState(false);\r\n    const [isFetchingGroup, setIsFetchingGroup] = useState(true);\r\n    const [isFetchingMembers, setIsFetchingMembers] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    // Form states\r\n    const [isAddMemberOpen, setIsAddMemberOpen] = useState(false);\r\n    const [newMemberName, setNewMemberName] = useState(\"\");\r\n    const [newMemberPhone, setNewMemberPhone] = useState(\"\");\r\n    const [newMemberUpiId, setNewMemberUpiId] = useState(\"\");\r\n    const [newMemberDays, setNewMemberDays] = useState(\"\");\r\n    const [isAddingMember, setIsAddingMember] = useState(false);\r\n\r\n    // Edit states\r\n    const [editingMember, setEditingMember] = useState<any>(null);\r\n    const [editName, setEditName] = useState(\"\");\r\n    const [editPhone, setEditPhone] = useState(\"\");\r\n    const [editUpiId, setEditUpiId] = useState(\"\");\r\n    const [editDays, setEditDays] = useState(\"\");\r\n    const [isUpdating, setIsUpdating] = useState(false);\r\n    const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n    // Filter states\r\n    const [daysFilter, setDaysFilter] = useState(\"all\");\r\n    const [customDaysFilter, setCustomDaysFilter] = useState(\"\");\r\n    const [loadingPayments, setLoadingPayments] = useState<Set<string>>(new Set());\r\n\r\n    const [qrModalData, setQrModalData] = useState<{ upiLink: string; upiId: string; memberName: string } | null>(null);\r\n    const [paymentMember, setPaymentMember] = useState<any>(null);\r\n    const [paymentModalStep, setPaymentModalStep] = useState<'initial' | 'apps'>('initial');\r\n\r\n    // 1. Fetch Group details on initial load\r\n    useEffect(() => {\r\n        if (!groupId) {\r\n            router.push(\"/dashboard\");\r\n            return;\r\n        }\r\n\r\n        async function fetchGroup() {\r\n            setIsFetchingGroup(true);\r\n            setError(null);\r\n            try {\r\n                const { data, error } = await supabase\r\n                    .from(\"groups\")\r\n                    .select(\"*\")\r\n                    .eq(\"id\", groupId)\r\n                    .single();\r\n\r\n                if (error && error.code !== \"PGRST116\") throw error;\r\n                if (!data) {\r\n                    router.push(\"/dashboard\");\r\n                    return;\r\n                }\r\n                if (data) setGroup(data);\r\n            } catch (err: any) {\r\n                setError(err.message || \"Failed to load group.\");\r\n            } finally {\r\n                setIsFetchingGroup(false);\r\n            }\r\n        }\r\n\r\n        fetchGroup();\r\n    }, [groupId, router]);\r\n\r\n    // 2. Fetch Members when \"Load Members\" is clicked\r\n    const handleLoadMembers = useCallback(async () => {\r\n        if (!selectedYear || !selectedMonth) return;\r\n\r\n        setIsFetchingMembers(true);\r\n        setError(null);\r\n        setHasLoadedMembers(false);\r\n\r\n        try {\r\n            const yearInt = parseInt(selectedYear);\r\n            const monthInt = parseInt(selectedMonth);\r\n\r\n            if (isNaN(yearInt) || isNaN(monthInt) || monthInt < 1 || monthInt > 12) {\r\n                setError(\"Invalid year or month selected.\");\r\n                return;\r\n            }\r\n\r\n            const selectedYM = yearInt * 12 + monthInt;\r\n\r\n            // Fetch promoters\r\n            const { data: pData, error: pError } = await supabase\r\n                .from(\"promoters\")\r\n                .select(\"*\")\r\n                .eq(\"group_id\", groupId);\r\n\r\n            if (pError) throw pError;\r\n\r\n            const allPromoters = pData ?? [];\r\n\r\n            // Filter promoters\r\n            const activePromoters = allPromoters.filter((p) => {\r\n                if (!p.join_date) return true;\r\n\r\n                const jDate = new Date(p.join_date);\r\n                const joinYM = jDate.getFullYear() * 12 + (jDate.getMonth() + 1);\r\n\r\n                if (joinYM > selectedYM) return false;\r\n\r\n                if (p.leave_date) {\r\n                    const lDate = new Date(p.leave_date);\r\n                    const leaveYM = lDate.getFullYear() * 12 + (lDate.getMonth() + 1);\r\n                    if (leaveYM <= selectedYM) return false;\r\n                }\r\n\r\n                return true;\r\n            });\r\n\r\n            setPromoters(activePromoters);\r\n\r\n            let mData: any[] = [];\r\n            const promoterIds = activePromoters.map((p) => p.id);\r\n\r\n            if (promoterIds.length > 0) {\r\n                // Fetch monthly records cleanly via relation using IN clause\r\n                const { data, error: mError } = await supabase\r\n                    .from(\"monthly_records\")\r\n                    .select(\"*\")\r\n                    .in(\"promoter_id\", promoterIds)\r\n                    .eq(\"year\", yearInt)\r\n                    .eq(\"month\", monthInt);\r\n\r\n                if (mError) throw mError;\r\n                mData = data ?? [];\r\n            }\r\n\r\n            setMonthlyRecords(mData);\r\n            setHasLoadedMembers(true);\r\n        } catch (err: any) {\r\n            setError(err.message || \"Failed to load records.\");\r\n        } finally {\r\n            setIsFetchingMembers(false);\r\n        }\r\n    }, [selectedYear, selectedMonth, groupId]);\r\n\r\n    const handleGenerateReport = async () => {\r\n        if (!group) {\r\n            toast.error(\"Group details not loaded.\");\r\n            return;\r\n        }\r\n        if (mergedData.length === 0) {\r\n            toast.error(\"No members found to generate a report.\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            toast.loading(\"Generating PDF...\", { id: \"pdf-toast\" });\r\n            const yearInt = parseInt(selectedYear);\r\n            const monthInt = parseInt(selectedMonth);\r\n\r\n            await generatePaymentReport(\r\n                group.name,\r\n                yearInt,\r\n                monthInt,\r\n                mergedData\r\n            );\r\n            toast.success(\"Report generated successfully!\", { id: \"pdf-toast\" });\r\n        } catch (err: any) {\r\n            console.error(\"PDF generation failed\", err);\r\n            toast.error(\"Failed to generate report.\", { id: \"pdf-toast\" });\r\n        }\r\n    };\r\n\r\n    const handleUpiPayment = useCallback((member: any, appType: 'generic' | 'paytm' = 'generic') => {\r\n        const upiId = member.upi_id?.trim();\r\n\r\n        if (!upiId) {\r\n            toast.error(\"UPI ID is missing for this member. Cannot initiate payment.\");\r\n            return;\r\n        }\r\n\r\n        const name = encodeURIComponent(member.name || \"Promoter\");\r\n\r\n        const genericLink = `upi://pay?pa=${upiId}&pn=${name}&cu=INR`;\r\n        const upiLink = appType === 'paytm'\r\n            ? `paytmmp://pay?pa=${upiId}&pn=${name}&cu=INR`\r\n            : genericLink;\r\n\r\n        // Native devices handler validation check\r\n        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n\r\n        if (!isMobile) {\r\n            toast.info(\"≡ƒô▒ UPI deep links open natively only on Mobile devices.\");\r\n        }\r\n\r\n        window.location.href = upiLink;\r\n    }, []);\r\n\r\n    const handleAddMember = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!newMemberPhone.trim()) {\r\n            toast.error(\"Phone number is required.\");\r\n            return;\r\n        }\r\n\r\n        if (!newMemberUpiId.trim()) {\r\n            toast.error(\"UPI ID is required.\");\r\n            return;\r\n        }\r\n\r\n        if (!selectedYear || !selectedMonth) {\r\n            toast.error(\"Please select a year and month first.\");\r\n            return;\r\n        }\r\n\r\n        setIsAddingMember(true);\r\n        try {\r\n            const yearInt = parseInt(selectedYear);\r\n            const monthInt = parseInt(selectedMonth);\r\n            const monthStr = monthInt.toString().padStart(2, '0');\r\n            const joinDate = `${yearInt}-${monthStr}-01`;\r\n\r\n            // 1. Insert Promoter\r\n            const { data: newPromoter, error: pError } = await supabase\r\n                .from(\"promoters\")\r\n                .insert({\r\n                    group_id: groupId,\r\n                    name: newMemberName.trim() || undefined,\r\n                    phone: newMemberPhone.trim(),\r\n                    upi_id: newMemberUpiId.trim(),\r\n                    join_date: joinDate,\r\n                })\r\n                .select()\r\n                .single();\r\n\r\n            if (pError) throw pError;\r\n\r\n            // 2. Insert Monthly Record\r\n            const daysInt = parseInt(newMemberDays) || 0;\r\n            const { error: mError } = await supabase\r\n                .from(\"monthly_records\")\r\n                .insert({\r\n                    promoter_id: newPromoter.id,\r\n                    year: yearInt,\r\n                    month: monthInt,\r\n                    days: daysInt,\r\n                    payment_completed: false\r\n                });\r\n\r\n            if (mError) throw mError;\r\n\r\n            toast.success(\"Member added successfully!\");\r\n            setIsAddMemberOpen(false);\r\n\r\n            // Reset fields\r\n            setNewMemberName(\"\");\r\n            setNewMemberPhone(\"\");\r\n            setNewMemberUpiId(\"\");\r\n            setNewMemberDays(\"\");\r\n\r\n            // Reload members\r\n            handleLoadMembers();\r\n\r\n        } catch (error: any) {\r\n            toast.error(error.message || \"Failed to add member.\");\r\n        } finally {\r\n            setIsAddingMember(false);\r\n        }\r\n    };\r\n\r\n    const handlePaymentToggle = async (member: any, isChecked: boolean) => {\r\n        if (loadingPayments.has(member.id)) return;\r\n\r\n        setLoadingPayments((prev) => new Set(prev).add(member.id));\r\n        const previousRecords = [...monthlyRecords];\r\n\r\n        // Optimistic update\r\n        setMonthlyRecords((prev) => {\r\n            const exists = prev.find((r) => r.promoter_id === member.id);\r\n            if (exists) {\r\n                return prev.map((r) =>\r\n                    r.promoter_id === member.id ? { ...r, payment_completed: isChecked } : r\r\n                );\r\n            } else {\r\n                return [\r\n                    ...prev,\r\n                    {\r\n                        id: `temp-${member.id}`,\r\n                        promoter_id: member.id,\r\n                        payment_completed: isChecked,\r\n                        year: parseInt(selectedYear),\r\n                        month: parseInt(selectedMonth),\r\n                        days: member.days || 0,\r\n                    } as MonthlyRecord,\r\n                ];\r\n            }\r\n        });\r\n\r\n        try {\r\n            const yearInt = parseInt(selectedYear);\r\n            const monthInt = parseInt(selectedMonth);\r\n\r\n            const recordToUpsert: any = {\r\n                promoter_id: member.id,\r\n                group_id: groupId,\r\n                year: yearInt,\r\n                month: monthInt,\r\n                payment_completed: isChecked,\r\n                days: member.days || 0,\r\n            };\r\n\r\n            // Use real ID if it exists to ensure update instead of insert\r\n            if (member.record_id && !member.record_id.toString().startsWith('temp-')) {\r\n                recordToUpsert.id = member.record_id;\r\n            }\r\n\r\n            const { data, error } = await supabase\r\n                .from(\"monthly_records\")\r\n                .upsert(recordToUpsert, { onConflict: \"promoter_id,year,month\" })\r\n                .select()\r\n                .single();\r\n\r\n            if (error) throw error;\r\n\r\n            // Update state with real data from DB (replaces temp id)\r\n            if (data) {\r\n                setMonthlyRecords((prev) => {\r\n                    const filtered = prev.filter((r) => r.promoter_id !== member.id || r.year !== yearInt || r.month !== monthInt);\r\n                    return [...filtered, data];\r\n                });\r\n            }\r\n\r\n            toast.success(isChecked ? \"Payment marked as completed\" : \"Payment unmarked\");\r\n        } catch (err: any) {\r\n            setMonthlyRecords(previousRecords);\r\n            toast.error(err.message || \"Failed to update payment.\");\r\n        } finally {\r\n            setLoadingPayments((prev) => {\r\n                const next = new Set(prev);\r\n                next.delete(member.id);\r\n                return next;\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleEditSave = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!editingMember || !editPhone.trim()) {\r\n            toast.error(\"Phone number is required.\");\r\n            return;\r\n        }\r\n\r\n        if (!editUpiId.trim()) {\r\n            toast.error(\"UPI ID is required.\");\r\n            return;\r\n        }\r\n\r\n        setIsUpdating(true);\r\n        try {\r\n            const { error: pError } = await supabase\r\n                .from(\"promoters\")\r\n                .update({\r\n                    name: editName.trim() || null,\r\n                    phone: editPhone.trim(),\r\n                    upi_id: editUpiId.trim(),\r\n                })\r\n                .eq(\"id\", editingMember.id);\r\n\r\n            if (pError) throw pError;\r\n\r\n            // Also update the days in the current selected month if available\r\n            const yearInt = parseInt(selectedYear);\r\n            const monthInt = parseInt(selectedMonth);\r\n            const parsedDays = parseInt(editDays) || 0;\r\n\r\n            if (editingMember.record_id) {\r\n                const { error: mError } = await supabase\r\n                    .from(\"monthly_records\")\r\n                    .update({ days: parsedDays })\r\n                    .eq(\"id\", editingMember.record_id);\r\n                if (mError) throw mError;\r\n            } else {\r\n                const { error: mError } = await supabase\r\n                    .from(\"monthly_records\")\r\n                    .insert({\r\n                        promoter_id: editingMember.id,\r\n                        year: yearInt,\r\n                        month: monthInt,\r\n                        days: parsedDays,\r\n                        payment_completed: false\r\n                    });\r\n                if (mError) throw mError;\r\n            }\r\n\r\n            toast.success(\"Member updated successfully\");\r\n            setEditingMember(null);\r\n\r\n            // Re-fetch to apply changes\r\n            handleLoadMembers();\r\n        } catch (error: any) {\r\n            toast.error(error.message || \"Failed to update member.\");\r\n        } finally {\r\n            setIsUpdating(false);\r\n        }\r\n    };\r\n\r\n    const handleDeleteMember = async (memberId: string) => {\r\n        setIsDeleting(true);\r\n        try {\r\n            if (!selectedYear || !selectedMonth) {\r\n                toast.error(\"Please select a year and month.\");\r\n                return;\r\n            }\r\n\r\n            const monthStr = selectedMonth.toString().padStart(2, '0');\r\n            const leaveDate = `${selectedYear}-${monthStr}-01`;\r\n\r\n            // Perform a \"soft delete\" to maintain historical monthly records\r\n            // Instead of deleting the record, we set a leave_date.\r\n            // Our activePromoters filter handles hiding members after their leave_date.\r\n            const { error: pError } = await supabase\r\n                .from(\"promoters\")\r\n                .update({ leave_date: leaveDate })\r\n                .eq(\"id\", memberId);\r\n\r\n            if (pError) throw pError;\r\n\r\n            toast.success(\"Member removed from this month onwards\");\r\n            setEditingMember(null);\r\n            handleLoadMembers();\r\n        } catch (error: any) {\r\n            toast.error(error.message || \"Failed to remove member\");\r\n        } finally {\r\n            setIsDeleting(false);\r\n        }\r\n    };\r\n\r\n    // Auto-load members when both year and month are selected\r\n    useEffect(() => {\r\n        if (selectedYear && selectedMonth) {\r\n            handleLoadMembers();\r\n        } else {\r\n            setPromoters([]);\r\n            setMonthlyRecords([]);\r\n            setHasLoadedMembers(false);\r\n        }\r\n    }, [selectedYear, selectedMonth, handleLoadMembers]);\r\n\r\n    // Compute merged data\r\n    const mergedData = useMemo(() => {\r\n        if (!hasLoadedMembers || !selectedYear || !selectedMonth) return [];\r\n\r\n        // Apply search filter\r\n        const searchLower = searchQuery.toLowerCase();\r\n        const searchedPromoters = promoters.filter(\r\n            (p) =>\r\n                p.name?.toLowerCase().includes(searchLower) ||\r\n                p.phone?.toLowerCase().includes(searchLower) ||\r\n                p.upi_id?.toLowerCase().includes(searchLower)\r\n        );\r\n\r\n        // Merge\r\n        const merged = searchedPromoters.map((p) => {\r\n            const rec = monthlyRecords.find((r) => r.promoter_id === p.id);\r\n            return {\r\n                ...p,\r\n                days: rec?.days || 0,\r\n                payment_completed: rec?.payment_completed || false,\r\n                record_id: rec?.id || null,\r\n            };\r\n        });\r\n\r\n        // Apply days/payment filter\r\n        return merged.filter((member) => {\r\n            const d = member.days;\r\n            if (daysFilter === \"all\") return true;\r\n            if (daysFilter === \"paid\") return member.payment_completed === true;\r\n            if (daysFilter === \"unpaid\") return member.payment_completed === false;\r\n            if (daysFilter === \"0\") return d === 0;\r\n            if (daysFilter === \"1-10\") return d >= 1 && d <= 10;\r\n            if (daysFilter === \"11-20\") return d >= 11 && d <= 20;\r\n            if (daysFilter === \"21-30\") return d >= 21 && d <= 30;\r\n            if (daysFilter === \"custom\") {\r\n                const customD = parseInt(customDaysFilter);\r\n                if (!isNaN(customD)) return d === customD;\r\n                return true;\r\n            }\r\n            return true;\r\n        });\r\n    }, [hasLoadedMembers, selectedYear, selectedMonth, searchQuery, promoters, monthlyRecords, daysFilter, customDaysFilter]);\r\n\r\n    const isSelectionComplete = selectedYear !== \"\" && selectedMonth !== \"\";\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-background text-foreground pb-20 overflow-x-hidden\">\r\n            {/* ΓöÇΓöÇ Header Bar ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */}\r\n            <div\r\n                className=\"sticky top-0 z-10 w-full glass-navy\"\r\n                style={{ borderBottom: \"1px solid rgba(212,175,55,0.12)\" }}\r\n            >\r\n                <div className=\"max-w-md md:max-w-6xl mx-auto px-4 md:px-8 py-4 flex items-center gap-3\">\r\n                    <button\r\n                        onClick={() => router.back()}\r\n                        className=\"flex h-8 w-8 items-center justify-center rounded-lg transition-colors\"\r\n                        style={{ color: \"var(--text-muted)\" }}\r\n                    >\r\n                        <ArrowLeft className=\"h-4 w-4\" />\r\n                    </button>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                        <h1 className=\"text-base md:text-xl font-bold leading-tight line-clamp-2 md:line-clamp-none break-words gold-gradient-text\"\r\n                            style={{ fontFamily: \"'Playfair Display', serif\" }}>\r\n                            {isFetchingGroup ? (\r\n                                <Loader2 className=\"h-4 w-4 animate-spin\" style={{ color: \"#D4AF37\" }} />\r\n                            ) : group ? (\r\n                                group.name\r\n                            ) : (\r\n                                \"Loading Group...\"\r\n                            )}\r\n                        </h1>\r\n                        <p className=\"text-xs leading-none mt-0.5 truncate\" style={{ color: \"var(--text-muted)\" }}>\r\n                            Group Detail\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <ThemeToggle />\r\n                        <ProfileDropdown\r\n                            showGenerateReport={hasLoadedMembers && mergedData.length > 0}\r\n                            onGenerateReport={handleGenerateReport}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"max-w-md md:max-w-6xl mx-auto p-4 md:p-8 pt-6\">\r\n                {/* ΓöÇΓöÇ Selectors & Top Controls ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */}\r\n                <div className=\"mb-6 flex flex-col md:flex-row md:items-center gap-4\">\r\n                    <div className=\"grid grid-cols-2 gap-3 flex-1 w-full\">\r\n                        <Select value={selectedYear} onValueChange={handleYearChange}>\r\n                            <SelectTrigger className=\"rounded-xl h-11 bg-card border-border shadow-sm\">\r\n                                <SelectValue placeholder=\"Select Year\" />\r\n                            </SelectTrigger>\r\n                            <SelectContent>\r\n                                {YEARS.map((y) => (\r\n                                    <SelectItem key={y} value={y.toString()} disabled={y > currentYear}>\r\n                                        {y}\r\n                                    </SelectItem>\r\n                                ))}\r\n                            </SelectContent>\r\n                        </Select>\r\n\r\n                        <Select value={selectedMonth} onValueChange={handleMonthChange}>\r\n                            <SelectTrigger className=\"rounded-xl h-11 bg-card border-border shadow-sm\">\r\n                                <SelectValue placeholder=\"Select Month\" />\r\n                            </SelectTrigger>\r\n                            <SelectContent>\r\n                                {MONTHS.map((m) => (\r\n                                    <SelectItem key={m.value} value={m.value}>\r\n                                        {m.label}\r\n                                    </SelectItem>\r\n                                ))}\r\n                            </SelectContent>\r\n                        </Select>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* ΓöÇΓöÇ Status Messages (Error) ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */}\r\n                {error && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: 8 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        className=\"rounded-2xl border border-destructive/30 bg-destructive/10 p-5 flex items-start gap-4 mb-4\"\r\n                    >\r\n                        <AlertCircle className=\"h-5 w-5 text-destructive flex-shrink-0 mt-0.5\" />\r\n                        <div>\r\n                            <p className=\"font-semibold text-destructive text-sm\">\r\n                                Error\r\n                            </p>\r\n                            <p className=\"text-xs text-destructive/80 mt-1\">{error}</p>\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n\r\n                {/* ΓöÇΓöÇ Subtle Empty State (Before Load) ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */}\r\n                {!hasLoadedMembers && !isFetchingMembers && !error && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        className=\"mt-12 flex flex-col items-center justify-center text-center px-4\"\r\n                    >\r\n                        <div className=\"h-12 w-12 rounded-full bg-muted/40 flex items-center justify-center mb-4\">\r\n                            <CalendarDays className=\"h-6 w-6 text-muted-foreground/60\" />\r\n                        </div>\r\n                        <p className=\"text-sm font-medium text-muted-foreground\">\r\n                            Please select year and month to view members.\r\n                        </p>\r\n                    </motion.div>\r\n                )}\r\n\r\n                {/* ΓöÇΓöÇ Loading Skeleton ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */}\r\n                {isFetchingMembers && (\r\n                    <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"mt-8 space-y-4\">\r\n                        <div className=\"flex justify-between items-end mb-6\">\r\n                            <div className=\"h-6 w-24 bg-muted/20 animate-pulse rounded\" />\r\n                            <div className=\"h-9 w-28 bg-muted/20 animate-pulse rounded-xl\" />\r\n                        </div>\r\n                        <div className=\"h-11 w-full max-w-sm bg-muted/20 animate-pulse rounded-xl\" />\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                            {[1, 2, 3, 4, 5, 6].map(i => (\r\n                                <div key={i} className=\"h-40 w-full bg-muted/20 animate-pulse rounded-2xl border border-border\" />\r\n                            ))}\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n\r\n                {/* ΓöÇΓöÇ Members List Section ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */}\r\n                <AnimatePresence>\r\n                    {hasLoadedMembers && (\r\n                        <motion.div\r\n                            initial={{ opacity: 0, y: 15 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            exit={{ opacity: 0, y: -10 }}\r\n                            transition={{ duration: 0.3, ease: \"easeOut\" }}\r\n                            className=\"mt-8 space-y-5\"\r\n                        >\r\n                            {/* Header with Title and Add Button */}\r\n                            <div className=\"flex justify-between items-end\">\r\n                                <div>\r\n                                    <h2 className=\"text-xl font-bold tracking-tight mb-0.5\" style={{ fontFamily: \"'Playfair Display', serif\" }}>Members</h2>\r\n                                    <div className=\"h-0.5 w-10 mt-1\" style={{ background: \"linear-gradient(90deg, #D4AF37, transparent)\" }} />\r\n                                </div>\r\n                                <Dialog open={isAddMemberOpen} onOpenChange={setIsAddMemberOpen}>\r\n                                    <DialogTrigger asChild>\r\n                                        <Button size=\"sm\" className=\"btn-gold h-9 gap-1.5 rounded-xl border-0\">\r\n                                            <Plus className=\"h-4 w-4\" />\r\n                                            Add Member\r\n                                        </Button>\r\n                                    </DialogTrigger>\r\n                                    <DialogContent\r\n                                        className=\"max-w-[340px] w-[calc(100%-32px)] rounded-3xl p-6 shadow-2xl\"\r\n                                        style={{\r\n                                            background: \"#0F2540\",\r\n                                            border: \"1px solid rgba(212,175,55,0.25)\",\r\n                                        }}\r\n                                    >\r\n                                        {/* Gold top line */}\r\n                                        <div className=\"absolute top-0 left-0 right-0 h-0.5 rounded-t-3xl\"\r\n                                            style={{ background: \"linear-gradient(90deg, transparent, #D4AF37, #F5E6A6, #D4AF37, transparent)\" }} />\r\n                                        <DialogHeader>\r\n                                            <DialogTitle\r\n                                                className=\"text-xl font-bold tracking-tight gold-gradient-text\"\r\n                                                style={{ fontFamily: \"'Playfair Display', serif\" }}\r\n                                            >\r\n                                                Add New Member\r\n                                            </DialogTitle>\r\n                                        </DialogHeader>\r\n                                        <form onSubmit={handleAddMember} className=\"space-y-4 mt-2\">\r\n                                            <div className=\"space-y-2\">\r\n                                                <label className=\"text-xs font-bold uppercase tracking-widest\" style={{ color: \"var(--text-secondary)\" }}>\r\n                                                    Name (Optional)\r\n                                                </label>\r\n                                                <Input\r\n                                                    placeholder=\"John Doe\"\r\n                                                    value={newMemberName}\r\n                                                    onChange={(e) => setNewMemberName(e.target.value)}\r\n                                                    className=\"h-11 rounded-xl bg-card border-border shadow-sm\"\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"space-y-2\">\r\n                                                <label className=\"text-xs font-bold uppercase tracking-widest\" style={{ color: \"var(--text-secondary)\" }}>\r\n                                                    Phone (Required)\r\n                                                </label>\r\n                                                <Input\r\n                                                    placeholder=\"9876543210\"\r\n                                                    value={newMemberPhone}\r\n                                                    onChange={(e) => setNewMemberPhone(e.target.value)}\r\n                                                    required\r\n                                                    className=\"h-11 rounded-xl bg-card border-border shadow-sm\"\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"space-y-2\">\r\n                                                <label className=\"text-xs font-bold uppercase tracking-widest\" style={{ color: \"var(--text-secondary)\" }}>\r\n                                                    UPI ID (Required)\r\n                                                </label>\r\n                                                <Input\r\n                                                    placeholder=\"user@upi\"\r\n                                                    value={newMemberUpiId}\r\n                                                    onChange={(e) => setNewMemberUpiId(e.target.value)}\r\n                                                    required\r\n                                                    className=\"h-11 rounded-xl bg-card border-border shadow-sm\"\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"space-y-2\">\r\n                                                <label className=\"text-xs font-bold uppercase tracking-widest\" style={{ color: \"var(--text-secondary)\" }}>\r\n                                                    Days (Optional)\r\n                                                </label>\r\n                                                <Input\r\n                                                    type=\"number\"\r\n                                                    placeholder=\"0\"\r\n                                                    value={newMemberDays}\r\n                                                    onChange={(e) => setNewMemberDays(e.target.value)}\r\n                                                    className=\"h-11 rounded-xl bg-card border-border shadow-sm\"\r\n                                                />\r\n                                            </div>\r\n                                            <Button\r\n                                                type=\"submit\"\r\n                                                disabled={isAddingMember}\r\n                                                className=\"btn-gold w-full h-11 rounded-xl text-sm font-bold mt-2 border-0\"\r\n                                            >\r\n                                                {isAddingMember ? <Loader2 className=\"h-4 w-4 animate-spin mr-2\" /> : null}\r\n                                                {isAddingMember ? \"Saving...\" : \"Save Member\"}\r\n                                            </Button>\r\n                                        </form>\r\n                                    </DialogContent>\r\n                                </Dialog>\r\n                            </div>\r\n\r\n                            {/* Search and Filter */}\r\n                            <div className=\"space-y-3\">\r\n                                <div className=\"relative\">\r\n                                    <Search className=\"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                                    <Input\r\n                                        placeholder=\"Search members by name, phone or UPI...\"\r\n                                        className=\"pl-10 h-11 rounded-xl bg-card border-border shadow-sm\"\r\n                                        value={searchQuery}\r\n                                        onChange={(e) => setSearchQuery(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"flex gap-2\">\r\n                                    <Select value={daysFilter} onValueChange={setDaysFilter}>\r\n                                        <SelectTrigger className=\"flex-1 h-11 rounded-xl bg-card border-border shadow-sm font-medium\">\r\n                                            <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                                                <Filter className=\"h-4 w-4 shrink-0\" />\r\n                                                <span className=\"text-foreground truncate\"><SelectValue placeholder=\"Filter by Days\" /></span>\r\n                                            </div>\r\n                                        </SelectTrigger>\r\n                                        <SelectContent>\r\n                                            <SelectItem value=\"all\">All</SelectItem>\r\n                                            <SelectItem value=\"paid\">Paid</SelectItem>\r\n                                            <SelectItem value=\"unpaid\">Unpaid</SelectItem>\r\n                                            <SelectItem value=\"0\">0 days</SelectItem>\r\n                                            <SelectItem value=\"1-10\">1ΓÇô10 days</SelectItem>\r\n                                            <SelectItem value=\"11-20\">11ΓÇô20 days</SelectItem>\r\n                                            <SelectItem value=\"21-30\">21ΓÇô30 days</SelectItem>\r\n                                            <SelectItem value=\"custom\">Custom exact match</SelectItem>\r\n                                        </SelectContent>\r\n                                    </Select>\r\n                                    <AnimatePresence>\r\n                                        {daysFilter === \"custom\" && (\r\n                                            <motion.div\r\n                                                initial={{ opacity: 0, width: 0, scale: 0.95 }}\r\n                                                animate={{ opacity: 1, width: \"auto\", scale: 1 }}\r\n                                                exit={{ opacity: 0, width: 0, scale: 0.95 }}\r\n                                                transition={{ duration: 0.2 }}\r\n                                                className=\"w-[120px]\"\r\n                                            >\r\n                                                <Input\r\n                                                    type=\"number\"\r\n                                                    placeholder=\"Exact days\"\r\n                                                    value={customDaysFilter}\r\n                                                    onChange={(e) => setCustomDaysFilter(e.target.value)}\r\n                                                    className=\"h-11 rounded-xl bg-card border-border shadow-sm\"\r\n                                                />\r\n                                            </motion.div>\r\n                                        )}\r\n                                    </AnimatePresence>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Empty state for Search/Filter */}\r\n                            {mergedData.length === 0 && (\r\n                                <div className=\"rounded-2xl py-12 flex flex-col items-center gap-3 text-center\"\r\n                                    style={{ background: \"var(--card)\", border: \"1px dashed var(--border)\" }}>\r\n                                    <div className=\"flex h-12 w-12 items-center justify-center rounded-xl\"\r\n                                        style={{ background: \"rgba(212,175,55,0.07)\", border: \"1px solid rgba(212,175,55,0.14)\" }}>\r\n                                        <Users className=\"h-6 w-6\" style={{ color: \"var(--primary)\" }} />\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"font-semibold text-sm text-foreground\">No members found</p>\r\n                                        <p className=\"text-xs mt-1 px-4\" style={{ color: \"var(--text-secondary)\" }}>\r\n                                            No active promoters matched the filters for{\" \"}\r\n                                            {MONTHS.find((m) => m.value === selectedMonth)?.label}{\" \"}\r\n                                            {selectedYear}.\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Card List */}\r\n                            {mergedData.length > 0 && (\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mt-6\" style={{ willChange: \"auto\" }}>\r\n                                    <AnimatePresence>\r\n                                        {mergedData.map((member, idx) => (\r\n                                            <motion.div\r\n                                                key={member.id}\r\n                                                initial={{ opacity: 0, scale: 0.98, y: 5 }}\r\n                                                animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                                                exit={{ opacity: 0, scale: 0.98, y: -5 }}\r\n                                                transition={{ duration: 0.2 }}\r\n                                                layout\r\n                                                className=\"h-full\"\r\n                                            >\r\n                                                <Card className={`h-full rounded-2xl transition-all duration-200 hover:-translate-y-1 ${member.payment_completed ? \"paid-card-style\" : \"luxury-card\"}`}\r\n                                                    style={{ padding: 0 }}>\r\n                                                    <div className=\"p-4 flex flex-col h-full gap-3.5\">\r\n                                                        {/* Top Row: Info */}\r\n                                                        <div className=\"flex justify-between items-start gap-3 flex-1\">\r\n                                                            <div className=\"flex items-start gap-3 flex-1 min-w-0\">\r\n                                                                <div className=\"flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-lg text-xs font-bold mt-0.5\"\r\n                                                                    style={{ background: \"linear-gradient(135deg, #D4AF37, #C9A227)\", color: \"#0B1C2D\" }}>\r\n                                                                    {idx + 1}\r\n                                                                </div>\r\n                                                                <div className=\"flex-1 min-w-0\">\r\n                                                                    <div className=\"flex items-start gap-2 max-w-full\">\r\n                                                                        <h3 className=\"text-sm md:text-base font-bold line-clamp-2 md:line-clamp-none leading-tight break-words flex-1 text-foreground\">\r\n                                                                            {member.name}\r\n                                                                        </h3>\r\n                                                                        {member.payment_completed && (\r\n                                                                            <span className=\"paid-badge flex items-center gap-1 shrink-0 mt-0.5\">\r\n                                                                                <CheckCircle2 className=\"h-2.5 w-2.5\" />\r\n                                                                                PAID\r\n                                                                            </span>\r\n                                                                        )}\r\n                                                                    </div>\r\n                                                                    <p className=\"text-xs flex items-center gap-1.5 mt-1 truncate text-foreground/80\">\r\n                                                                        <Phone className=\"h-3 w-3 flex-shrink-0\" />\r\n                                                                        {member.phone || \"N/A\"}\r\n                                                                    </p>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                            <Dialog open={editingMember?.id === member.id} onOpenChange={(open) => {\r\n                                                                if (open) {\r\n                                                                    setEditingMember(member);\r\n                                                                    setEditName(member.name || \"\");\r\n                                                                    setEditPhone(member.phone || \"\");\r\n                                                                    setEditUpiId(member.upi_id || \"\");\r\n                                                                    setEditDays(member.days?.toString() || \"\");\r\n                                                                } else {\r\n                                                                    setEditingMember(null);\r\n                                                                }\r\n                                                            }}>\r\n                                                                <DialogTrigger asChild>\r\n                                                                    <Button\r\n                                                                        variant=\"ghost\"\r\n                                                                        size=\"icon\"\r\n                                                                        className=\"h-8 w-8 text-muted-foreground hover:text-foreground shrink-0 rounded-lg -mr-1 -mt-1\"\r\n                                                                    >\r\n                                                                        <Edit2 className=\"h-4 w-4\" />\r\n                                                                    </Button>\r\n                                                                </DialogTrigger>\r\n\r\n                                                                <DialogContent\r\n                                                                    className=\"max-w-[340px] w-[calc(100%-32px)] rounded-3xl p-6 shadow-2xl\"\r\n                                                                    style={{\r\n                                                                        background: \"#0F2540\",\r\n                                                                        border: \"1px solid rgba(212,175,55,0.25)\",\r\n                                                                    }}\r\n                                                                >\r\n                                                                    {/* Gold top line */}\r\n                                                                    <div className=\"absolute top-0 left-0 right-0 h-0.5 rounded-t-3xl\"\r\n                                                                        style={{ background: \"linear-gradient(90deg, transparent, #D4AF37, #F5E6A6, #D4AF37, transparent)\" }} />\r\n                                                                    <DialogHeader>\r\n                                                                        <DialogTitle\r\n                                                                            className=\"text-xl font-bold tracking-tight gold-gradient-text\"\r\n                                                                            style={{ fontFamily: \"'Playfair Display', serif\" }}\r\n                                                                        >\r\n                                                                            Edit Member\r\n                                                                        </DialogTitle>\r\n                                                                    </DialogHeader>\r\n                                                                    <form onSubmit={handleEditSave} className=\"space-y-4 mt-2\">\r\n                                                                        <div className=\"space-y-2\">\r\n                                                                            <label className=\"text-xs font-bold uppercase tracking-widest\" style={{ color: \"rgba(184,168,138,0.8)\" }}>\r\n                                                                                Name\r\n                                                                            </label>\r\n                                                                            <Input\r\n                                                                                placeholder=\"Name\"\r\n                                                                                value={editName}\r\n                                                                                onChange={(e) => setEditName(e.target.value)}\r\n                                                                                className=\"h-11 rounded-xl bg-card border-border shadow-sm\"\r\n                                                                            />\r\n                                                                        </div>\r\n                                                                        <div className=\"space-y-2\">\r\n                                                                            <label className=\"text-xs font-bold uppercase tracking-widest\" style={{ color: \"var(--text-secondary)\" }}>\r\n                                                                                Phone (Required)\r\n                                                                            </label>\r\n                                                                            <Input\r\n                                                                                placeholder=\"Phone\"\r\n                                                                                value={editPhone}\r\n                                                                                onChange={(e) => setEditPhone(e.target.value)}\r\n                                                                                required\r\n                                                                                className=\"h-11 rounded-xl bg-card border-border shadow-sm\"\r\n                                                                            />\r\n                                                                        </div>\r\n                                                                        <div className=\"space-y-2\">\r\n                                                                            <label className=\"text-xs font-bold uppercase tracking-widest\" style={{ color: \"var(--text-secondary)\" }}>\r\n                                                                                UPI ID (Required)\r\n                                                                            </label>\r\n                                                                            <Input\r\n                                                                                placeholder=\"UPI ID\"\r\n                                                                                value={editUpiId}\r\n                                                                                onChange={(e) => setEditUpiId(e.target.value)}\r\n                                                                                required\r\n                                                                                className=\"h-11 rounded-xl bg-card border-border shadow-sm\"\r\n                                                                            />\r\n                                                                        </div>\r\n                                                                        <div className=\"space-y-2\">\r\n                                                                            <label className=\"text-xs font-bold uppercase tracking-widest\" style={{ color: \"var(--text-secondary)\" }}>\r\n                                                                                Days\r\n                                                                            </label>\r\n                                                                            <Input\r\n                                                                                type=\"number\"\r\n                                                                                placeholder=\"0\"\r\n                                                                                value={editDays}\r\n                                                                                onChange={(e) => setEditDays(e.target.value)}\r\n                                                                                className=\"h-11 rounded-xl bg-card border-border shadow-sm\"\r\n                                                                            />\r\n                                                                        </div>\r\n\r\n                                                                        <div className=\"flex gap-3 pt-2\">\r\n                                                                            <Button\r\n                                                                                type=\"button\"\r\n                                                                                variant=\"destructive\"\r\n                                                                                disabled={isDeleting || isUpdating}\r\n                                                                                onClick={() => handleDeleteMember(member.id)}\r\n                                                                                className=\"flex-1 h-11 rounded-xl text-sm font-bold bg-red-950/60 text-red-400 hover:bg-red-900/60 border border-red-800/40\"\r\n                                                                            >\r\n                                                                                {isDeleting ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : \"Delete\"}\r\n                                                                            </Button>\r\n\r\n                                                                            <Button\r\n                                                                                type=\"submit\"\r\n                                                                                disabled={isUpdating || isDeleting}\r\n                                                                                className=\"btn-gold flex-1 h-11 rounded-xl text-sm font-bold border-0\"\r\n                                                                            >\r\n                                                                                {isUpdating ? <Loader2 className=\"h-4 w-4 animate-spin mr-2\" /> : null}\r\n                                                                                {isUpdating ? \"Saving...\" : \"Save\"}\r\n                                                                            </Button>\r\n                                                                        </div>\r\n                                                                    </form>\r\n                                                                </DialogContent>\r\n                                                            </Dialog>\r\n                                                        </div>\r\n\r\n                                                        <div className=\"h-px w-full\" style={{ background: \"rgba(212,175,55,0.1)\" }} />\r\n\r\n                                                        {/* Bottom Row: Actions */}\r\n                                                        <div className=\"flex items-center justify-between gap-4\">\r\n                                                            <div className=\"flex flex-col\">\r\n                                                                <span className=\"text-[10px] uppercase tracking-widest font-semibold\" style={{ color: \"rgba(184,168,138,0.7)\" }}>\r\n                                                                    Days\r\n                                                                </span>\r\n                                                                <span className=\"text-sm font-bold mt-0.5 gold-gradient-text\">\r\n                                                                    {member.days}\r\n                                                                </span>\r\n                                                            </div>\r\n\r\n                                                            <div className=\"flex items-center gap-3\">\r\n                                                                <Button\r\n                                                                    size=\"sm\"\r\n                                                                    onClick={() => {\r\n                                                                        setPaymentMember(member);\r\n                                                                        setPaymentModalStep('initial');\r\n                                                                    }}\r\n                                                                    className={`h-8 text-xs font-bold rounded-lg px-4 border-0 ${member.payment_completed ? \"paid-btn-style\" : \"btn-gold\"}`}\r\n                                                                >\r\n                                                                    {member.payment_completed ? \"Paid Γ£ô\" : \"Pay\"}\r\n                                                                </Button>\r\n\r\n                                                                <div className=\"flex items-center justify-center p-1.5 rounded-md transition-colors\"\r\n                                                                    style={{ background: \"rgba(255,255,255,0.03)\", border: \"1px solid var(--border)\" }}>\r\n                                                                    <Checkbox\r\n                                                                        checked={member.payment_completed}\r\n                                                                        disabled={loadingPayments.has(member.id)}\r\n                                                                        onCheckedChange={(c) => handlePaymentToggle(member, c === true)}\r\n                                                                        className=\"rounded-[4px] data-[state=checked]:bg-green-500 data-[state=checked]:border-green-500 transition-all border-muted-foreground/30\"\r\n                                                                    />\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Card>\r\n                                            </motion.div>\r\n                                        ))}\r\n                                    </AnimatePresence>\r\n                                </div>\r\n                            )}\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </div>\r\n\r\n            {/* ΓöÇΓöÇ Payment Choice Modal ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */}\r\n            <Dialog open={!!paymentMember} onOpenChange={(open) => {\r\n                if (!open) {\r\n                    setPaymentMember(null);\r\n                    setPaymentModalStep('initial');\r\n                }\r\n            }}>\r\n                <DialogContent className=\"max-w-[320px] rounded-3xl p-6 shadow-2xl\" style={{ background: \"#0F2540\", border: \"1px solid rgba(212,175,55,0.25)\" }} showCloseButton={false}>\r\n                    <DialogHeader>\r\n                        <DialogTitle className=\"text-center text-xl font-bold tracking-tight gold-gradient-text\" style={{ fontFamily: \"'Playfair Display', serif\" }}>Complete Payment</DialogTitle>\r\n                    </DialogHeader>\r\n                    {paymentModalStep === 'initial' ? (\r\n                        <div className=\"flex flex-col gap-3 mt-4\">\r\n                            <Button\r\n                                onClick={() => setPaymentModalStep('apps')}\r\n                                className=\"btn-gold w-full h-12 rounded-xl text-sm font-bold tracking-wide border-0\"\r\n                            >\r\n                                Via UPI\r\n                            </Button>\r\n                            <div className=\"relative flex items-center py-2\">\r\n                                <div className=\"flex-grow\" style={{ borderTop: \"1px solid rgba(212,175,55,0.15)\" }}></div>\r\n                                <span className=\"flex-shrink-0 mx-4 text-xs font-semibold uppercase tracking-wider\" style={{ color: \"var(--text-muted)\" }}>OR</span>\r\n                                <div className=\"flex-grow\" style={{ borderTop: \"1px solid rgba(212,175,55,0.15)\" }}></div>\r\n                            </div>\r\n                            <Button\r\n                                onClick={() => {\r\n                                    const upiId = paymentMember?.upi_id?.trim();\r\n                                    if (upiId) {\r\n                                        const name = encodeURIComponent(paymentMember.name || \"Promoter\");\r\n                                        const genericLink = `upi://pay?pa=${upiId}&pn=${name}&cu=INR`;\r\n                                        setQrModalData({ upiLink: genericLink, upiId: upiId, memberName: paymentMember.name || \"Promoter\" });\r\n                                        setPaymentMember(null);\r\n                                        setPaymentModalStep('initial');\r\n                                    } else {\r\n                                        toast.error(\"UPI ID missing.\");\r\n                                    }\r\n                                }}\r\n                                className=\"w-full h-12 rounded-xl text-sm font-bold tracking-wide transition-colors border-0\"\r\n                                style={{ background: \"rgba(212,175,55,0.1)\", color: \"#D4AF37\", border: \"1px solid rgba(212,175,55,0.25)\" }}\r\n                            >\r\n                                Scan QR\r\n                            </Button>\r\n                            <Button variant=\"ghost\" className=\"mt-1 w-full text-xs\" style={{ color: \"var(--text-muted)\" }} onClick={() => {\r\n                                setPaymentMember(null);\r\n                                setPaymentModalStep('initial');\r\n                            }}>\r\n                                Cancel\r\n                            </Button>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"flex flex-col gap-3 mt-4\">\r\n                            <Button\r\n                                onClick={() => handleUpiPayment(paymentMember, 'generic')}\r\n                                className=\"btn-gold w-full h-12 rounded-xl text-sm font-bold tracking-wide border-0\"\r\n                            >\r\n                                Pay via PhonePe\r\n                            </Button>\r\n                            <Button\r\n                                onClick={() => handleUpiPayment(paymentMember, 'generic')}\r\n                                className=\"w-full h-12 rounded-xl text-sm font-bold tracking-wide border-0\"\r\n                                style={{ background: \"rgba(212,175,55,0.1)\", color: \"#D4AF37\", border: \"1px solid rgba(212,175,55,0.2)\" }}\r\n                            >\r\n                                Pay via GPay\r\n                            </Button>\r\n                            <p className=\"text-xs text-center mt-3 px-2 leading-relaxed\" style={{ color: \"var(--text-muted)\" }}>\r\n                                Complete payment on your device, then manually check the box to mark as paid.\r\n                            </p>\r\n                            <Button variant=\"ghost\" className=\"mt-1 w-full text-xs\" style={{ color: \"var(--text-muted)\" }} onClick={() => setPaymentModalStep('initial')}>\r\n                                Back\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                </DialogContent>\r\n            </Dialog>\r\n\r\n            {/* ΓöÇΓöÇ QR Code Fallback Modal ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */}\r\n            <Dialog open={!!qrModalData} onOpenChange={(open) => {\r\n                if (!open) setQrModalData(null);\r\n            }}>\r\n                <DialogContent className=\"max-w-[340px] rounded-3xl p-6 shadow-2xl\" style={{ background: \"#0F2540\", border: \"1px solid rgba(212,175,55,0.3)\" }}>\r\n                    <DialogHeader>\r\n                        <DialogTitle className=\"text-center text-xl font-bold tracking-tight gold-gradient-text\" style={{ fontFamily: \"'Playfair Display', serif\" }}>Scan to Pay</DialogTitle>\r\n                    </DialogHeader>\r\n                    <p className=\"text-sm text-center mt-1 mb-4 leading-relaxed\" style={{ color: \"var(--text-secondary)\" }}>\r\n                        Scan this QR using any UPI app from your mobile.\r\n                    </p>\r\n                    <div className=\"p-3 rounded-2xl mx-auto w-max mb-5\" style={{ background: \"#FFFFFF\", border: \"3px solid #D4AF37\", boxShadow: \"0 0 20px rgba(212,175,55,0.25)\" }}>\r\n                        <QRCode value={qrModalData?.upiLink || \"\"} size={200} />\r\n                    </div>\r\n                    <div className=\"flex flex-col items-center gap-3\">\r\n                        <div className=\"px-4 py-2 rounded-xl w-full text-center\" style={{ background: \"rgba(212,175,55,0.07)\", border: \"1px solid rgba(212,175,55,0.2)\" }}>\r\n                            <p className=\"text-xs uppercase tracking-wider font-semibold mb-0.5\" style={{ color: \"var(--text-muted)\" }}>UPI ID</p>\r\n                            <p className=\"font-medium text-sm truncate text-foreground\">{qrModalData?.upiId}</p>\r\n                        </div>\r\n                        <Button\r\n                            className=\"btn-gold w-full rounded-xl h-11 font-semibold gap-2 border-0\"\r\n                            onClick={() => {\r\n                                navigator.clipboard.writeText(qrModalData?.upiId || \"\");\r\n                                toast.success(\"UPI ID copied to clipboard!\");\r\n                            }}\r\n                        >\r\n                            <Copy className=\"h-4 w-4\" />\r\n                            Copy UPI ID\r\n                        </Button>\r\n                    </div>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\app\\dashboard\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\app\\dashboard\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\app\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Loader2' is defined but never used.","line":18,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":18,"endColumn":17,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Loader2"},"fix":{"range":[482,490],"text":""},"desc":"Remove unused variable \"Loader2\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":63,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1991,1994],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1991,1994],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { motion } from \"framer-motion\";\r\nimport Image from \"next/image\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { toast } from \"sonner\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport {\r\n    Card,\r\n    CardContent,\r\n    CardDescription,\r\n    CardHeader,\r\n    CardTitle,\r\n} from \"@/components/ui/card\";\r\nimport { Loader2, ArrowRight, Eye, EyeOff, Sparkles, ArrowLeft } from \"lucide-react\";\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleLogin = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!email || !password) {\r\n            toast.error(\"Please enter both email and password.\");\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n\r\n        try {\r\n            const { data, error } = await supabase.auth.signInWithPassword({\r\n                email,\r\n                password,\r\n            });\r\n\r\n            if (error) {\r\n                throw error;\r\n            }\r\n\r\n            if (data?.user) {\r\n                const { data: admin, error: adminError } = await supabase\r\n                    .from(\"admins\")\r\n                    .select(\"id\")\r\n                    .eq(\"id\", data.user.id)\r\n                    .single();\r\n\r\n                if (adminError || !admin) {\r\n                    await supabase.auth.signOut();\r\n                    toast.error(\"Access denied. Admin privileges required.\");\r\n                    setLoading(false);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            toast.success(\"Successfully logged in!\");\r\n            router.push(\"/dashboard\");\r\n        } catch (error: any) {\r\n            toast.error(error.message || \"Failed to log in.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main className=\"force-dark min-h-screen flex items-center justify-center p-6 relative overflow-hidden font-sans selection:bg-[#D4AF37]/20\"\r\n            style={{ background: \"linear-gradient(160deg, #0B1C2D 0%, #0F2540 40%, #091522 100%)\" }}>\r\n\r\n            {/* ΓöÇΓöÇ Back to Home ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */}\r\n            <button\r\n                onClick={() => router.push(\"/\")}\r\n                className=\"absolute top-6 left-6 md:top-8 md:left-10 flex items-center gap-2 px-3 py-2 rounded-xl transition-all hover:bg-white/5 z-50 group\"\r\n                style={{ color: \"rgba(212,175,55,0.8)\" }}\r\n            >\r\n                <ArrowLeft className=\"h-4 w-4 transition-transform group-hover:-translate-x-1\" />\r\n                <span className=\"text-sm font-semibold tracking-wide\">Back to Home</span>\r\n            </button>\r\n\r\n            {/* Background gold glows */}\r\n            <div className=\"absolute top-0 left-1/2 -translate-x-1/2 w-[700px] h-[500px] rounded-full pointer-events-none -z-10\"\r\n                style={{ background: \"radial-gradient(ellipse, rgba(212,175,55,0.07) 0%, transparent 70%)\" }} />\r\n            <div className=\"absolute bottom-0 right-0 w-[400px] h-[400px] rounded-full blur-[120px] pointer-events-none -z-10\"\r\n                style={{ background: \"rgba(212,175,55,0.04)\" }} />\r\n            <div className=\"absolute bottom-0 left-0 w-[300px] h-[300px] rounded-full blur-[80px] pointer-events-none -z-10\"\r\n                style={{ background: \"rgba(15,37,64,0.6)\" }} />\r\n\r\n            {/* Floating gold orbs */}\r\n            <motion.div\r\n                animate={{ y: [0, -15, 0], rotate: [0, 5, 0] }}\r\n                transition={{ duration: 7, ease: \"easeInOut\", repeat: Infinity }}\r\n                className=\"absolute top-[15%] left-[10%] h-12 w-12 rounded-full pointer-events-none\"\r\n                style={{ background: \"rgba(212,175,55,0.06)\", border: \"1px solid rgba(212,175,55,0.1)\", filter: \"blur(2px)\" }}\r\n            />\r\n            <motion.div\r\n                animate={{ y: [0, 12, 0], rotate: [0, -8, 0] }}\r\n                transition={{ duration: 5.5, ease: \"easeInOut\", repeat: Infinity, delay: 1 }}\r\n                className=\"absolute top-[25%] right-[12%] h-8 w-8 rounded-full pointer-events-none\"\r\n                style={{ background: \"rgba(245,230,166,0.05)\", border: \"1px solid rgba(212,175,55,0.08)\", filter: \"blur(1px)\" }}\r\n            />\r\n            <motion.div\r\n                animate={{ y: [0, -8, 0] }}\r\n                transition={{ duration: 6, ease: \"easeInOut\", repeat: Infinity, delay: 0.5 }}\r\n                className=\"absolute bottom-[20%] left-[15%] h-6 w-6 rounded-full pointer-events-none\"\r\n                style={{ background: \"rgba(212,175,55,0.04)\", filter: \"blur(2px)\" }}\r\n            />\r\n\r\n            <motion.div\r\n                initial={{ opacity: 0, y: 30, scale: 0.96 }}\r\n                animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                transition={{ duration: 0.5, ease: \"easeOut\" }}\r\n                className=\"w-full max-w-md mx-auto relative z-10\"\r\n            >\r\n                {/* Gold top line */}\r\n                <div className=\"h-0.5 w-full rounded-t-3xl\"\r\n                    style={{ background: \"linear-gradient(90deg, transparent, #D4AF37, #F5E6A6, #D4AF37, transparent)\" }} />\r\n\r\n                <div className=\"rounded-b-3xl overflow-hidden\"\r\n                    style={{\r\n                        background: \"linear-gradient(160deg, #112033 0%, #0e1c2f 100%)\",\r\n                        border: \"1px solid rgba(212,175,55,0.2)\",\r\n                        borderTop: \"none\",\r\n                        boxShadow: \"0 32px 80px rgba(0,0,0,0.5), 0 0 40px rgba(212,175,55,0.04)\",\r\n                    }}>\r\n                    <Card className=\"border-0 bg-transparent shadow-none\">\r\n                        <CardHeader className=\"space-y-4 pb-6 text-center pt-8 px-8\">\r\n                            {/* Logo */}\r\n                            <motion.div\r\n                                initial={{ scale: 0.8, opacity: 0 }}\r\n                                animate={{ scale: 1, opacity: 1 }}\r\n                                transition={{ duration: 0.4, delay: 0.1 }}\r\n                                className=\"flex justify-center\"\r\n                            >\r\n                                <div className=\"relative\">\r\n                                    <div className=\"absolute inset-0 rounded-full blur-xl scale-125\"\r\n                                        style={{ background: \"rgba(212,175,55,0.2)\" }} />\r\n                                    <div className=\"h-20 w-20 rounded-full overflow-hidden relative\"\r\n                                        style={{ border: \"2px solid rgba(212,175,55,0.45)\", boxShadow: \"0 0 24px rgba(212,175,55,0.2)\" }}>\r\n                                        <Image\r\n                                            src=\"/ad-sparkle-image.png\"\r\n                                            alt=\"AdSparkle Logo\"\r\n                                            width={80}\r\n                                            height={80}\r\n                                            className=\"object-cover w-full h-full\"\r\n                                            priority\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </motion.div>\r\n\r\n                            <motion.div\r\n                                initial={{ opacity: 0, y: 10 }}\r\n                                animate={{ opacity: 1, y: 0 }}\r\n                                transition={{ duration: 0.4, delay: 0.2 }}\r\n                            >\r\n                                <CardTitle className=\"text-2xl font-extrabold tracking-tight\"\r\n                                    style={{ color: \"#F5F5F5\", fontFamily: \"'Playfair Display', serif\" }}>\r\n                                    Welcome back\r\n                                </CardTitle>\r\n                                <CardDescription className=\"text-sm mt-1.5 font-medium\"\r\n                                    style={{ color: \"var(--text-muted)\" }}>\r\n                                    Sign in to access the{\" \"}\r\n                                    <span className=\"gold-gradient-text font-semibold\">AdSparkle</span>{\" \"}\r\n                                    Admin Dashboard.\r\n                                </CardDescription>\r\n                            </motion.div>\r\n                        </CardHeader>\r\n\r\n                        <CardContent className=\"px-8 pb-8\">\r\n                            <motion.form\r\n                                initial={{ opacity: 0, y: 10 }}\r\n                                animate={{ opacity: 1, y: 0 }}\r\n                                transition={{ duration: 0.4, delay: 0.3 }}\r\n                                onSubmit={handleLogin}\r\n                                className=\"space-y-5\"\r\n                            >\r\n                                {/* Email */}\r\n                                <div className=\"space-y-2\">\r\n                                    <label className=\"text-xs font-bold uppercase tracking-widest\"\r\n                                        style={{ color: \"var(--text-secondary)\" }}>\r\n                                        Email Address\r\n                                    </label>\r\n                                    <Input\r\n                                        type=\"email\"\r\n                                        placeholder=\"admin@adsparkle.com\"\r\n                                        value={email}\r\n                                        onChange={(e) => setEmail(e.target.value)}\r\n                                        disabled={loading}\r\n                                        className=\"h-12 rounded-xl font-medium transition-all\"\r\n                                        style={{\r\n                                            background: \"rgba(255,255,255,0.04)\",\r\n                                            border: \"1px solid rgba(212,175,55,0.18)\",\r\n                                            color: \"#F5F5F5\",\r\n                                        }}\r\n                                        required\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* Password */}\r\n                                <div className=\"space-y-2\">\r\n                                    <label className=\"text-xs font-bold uppercase tracking-widest\"\r\n                                        style={{ color: \"var(--text-secondary)\" }}>\r\n                                        Password\r\n                                    </label>\r\n                                    <div className=\"relative\">\r\n                                        <Input\r\n                                            type={showPassword ? \"text\" : \"password\"}\r\n                                            placeholder=\"ΓÇóΓÇóΓÇóΓÇóΓÇóΓÇóΓÇóΓÇó\"\r\n                                            value={password}\r\n                                            onChange={(e) => setPassword(e.target.value)}\r\n                                            disabled={loading}\r\n                                            className=\"h-12 rounded-xl font-medium transition-all pr-12\"\r\n                                            style={{\r\n                                                background: \"rgba(255,255,255,0.04)\",\r\n                                                border: \"1px solid rgba(212,175,55,0.18)\",\r\n                                                color: \"#F5F5F5\",\r\n                                            }}\r\n                                            required\r\n                                        />\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => setShowPassword(!showPassword)}\r\n                                            className=\"absolute right-3 top-1/2 -translate-y-1/2 h-8 w-8 flex items-center justify-center rounded-lg transition-colors\"\r\n                                            style={{ color: \"var(--text-muted)\" }}\r\n                                        >\r\n                                            {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Submit */}\r\n                                <div className=\"pt-3\">\r\n                                    <Button\r\n                                        type=\"submit\"\r\n                                        disabled={loading}\r\n                                        className=\"btn-gold w-full h-12 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all disabled:opacity-60 border-0\"\r\n                                    >\r\n                                        {loading ? (\r\n                                            <>\r\n                                                <div className=\"gold-spinner h-5 w-5\" style={{ borderTopColor: \"#0B1C2D\", borderColor: \"rgba(11,28,45,0.2)\" }} />\r\n                                                Verifying...\r\n                                            </>\r\n                                        ) : (\r\n                                            <>\r\n                                                <Sparkles className=\"h-4 w-4\" />\r\n                                                Sign In\r\n                                                <ArrowRight className=\"h-4 w-4\" />\r\n                                            </>\r\n                                        )}\r\n                                    </Button>\r\n                                </div>\r\n                            </motion.form>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n\r\n                {/* Bottom hint */}\r\n                <motion.p\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    transition={{ duration: 0.4, delay: 0.6 }}\r\n                    className=\"text-center text-xs mt-4 font-medium\"\r\n                    style={{ color: \"var(--text-muted)\" }}\r\n                >\r\n                    Protected by{\" \"}\r\n                    <span className=\"gold-gradient-text font-semibold\">Supabase Auth</span>\r\n                </motion.p>\r\n            </motion.div>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\app\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":243,"column":86,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[12197,12214],"text":"nothing you don&apos;t"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[12197,12214],"text":"nothing you don&lsquo;t"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[12197,12214],"text":"nothing you don&#39;t"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[12197,12214],"text":"nothing you don&rsquo;t"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport Image from \"next/image\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  ArrowRight,\n  Users,\n  CreditCard,\n  ShieldCheck,\n  BarChart3,\n  Activity,\n  Wallet,\n  Zap,\n} from \"lucide-react\";\n\n// ΓöÇΓöÇ Feature cards data ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ\nconst FEATURES = [\n  {\n    icon: <Users className=\"h-6 w-6\" style={{ color: \"#0B1C2D\" }} />,\n    title: \"Smart Group Management\",\n    desc: \"Organize promoters into distinct groups. Track joining dates, manage active members, and filter effortlessly.\",\n  },\n  {\n    icon: <CreditCard className=\"h-6 w-6\" style={{ color: \"#0B1C2D\" }} />,\n    title: \"Automated Payment Tracking\",\n    desc: \"Calculate monthly active days automatically. One-click deep links for UPI payouts to streamline your workflow.\",\n  },\n  {\n    icon: <ShieldCheck className=\"h-6 w-6\" style={{ color: \"#0B1C2D\" }} />,\n    title: \"Secure Admin Access\",\n    desc: \"Enterprise-grade authentication powered by Supabase. Your data and payout records are fully protected.\",\n  },\n];\n\nconst STATS = [\n  { value: \"300+\", label: \"Promoters\" },\n  { value: \"5\", label: \"Active Groups\" },\n  { value: \"100%\", label: \"Admin Controlled\" },\n];\n\nexport default function HomePage() {\n  const router = useRouter();\n\n  return (\n    <main className=\"force-dark min-h-screen bg-background text-foreground overflow-hidden font-sans selection:bg-[#D4AF37]/20 relative\">\n\n      {/* ΓöÇΓöÇ Radial glow (desktop only ΓÇö no blur on mobile) ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */}\n      <div\n        className=\"absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[500px] rounded-full pointer-events-none -z-10 hidden md:block\"\n        style={{ background: \"radial-gradient(ellipse, rgba(212,175,55,0.06) 0%, transparent 70%)\" }}\n      />\n\n      {/* ΓöÇΓöÇ Navigation ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */}\n      <nav className=\"w-full max-w-7xl mx-auto px-4 md:px-6 py-4 md:py-5 flex items-center justify-between relative z-10 page-enter\">\n        <div className=\"flex items-center gap-3\">\n          <div\n            className=\"flex h-9 w-9 md:h-10 md:w-10 flex-shrink-0 items-center justify-center rounded-full overflow-hidden gold-border\"\n            style={{ background: \"rgba(17,32,51,1)\" }}\n          >\n            <Image\n              src=\"/ad-sparkle-image.png\"\n              alt=\"AdSparkle Logo\"\n              width={40}\n              height={40}\n              className=\"object-cover w-full h-full\"\n              priority\n            />\n          </div>\n          <span className=\"font-bold text-sm tracking-widest uppercase gold-gradient-text\">AdSparkle</span>\n        </div>\n\n        <Button\n          onClick={() => router.push(\"/login\")}\n          className=\"btn-gold h-9 px-5 md:px-6 rounded-full text-sm font-bold border-0 min-h-[44px]\"\n        >\n          Sign In <ArrowRight className=\"ml-1.5 h-3.5 w-3.5\" />\n        </Button>\n      </nav>\n\n      {/* ΓöÇΓöÇ Hero Section ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */}\n      <section className=\"relative w-full max-w-7xl mx-auto px-4 md:px-6 pt-10 md:pt-16 pb-20 md:pb-28 flex flex-col lg:flex-row items-center justify-between gap-12 md:gap-16 z-10\">\n\n        {/* Left: Text */}\n        <div className=\"flex-1 flex flex-col items-start text-left max-w-2xl relative z-10 page-enter\">\n          {/* Badge */}\n          <div\n            className=\"inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-widest mb-5 md:mb-6\"\n            style={{ background: \"rgba(212,175,55,0.1)\", border: \"1px solid rgba(212,175,55,0.25)\", color: \"var(--accent)\" }}\n          >\n            <span className=\"flex h-2 w-2 rounded-full animate-pulse\" style={{ background: \"#D4AF37\" }} />\n            <Zap className=\"h-3 w-3\" />\n            Admin Dashboard\n          </div>\n\n          <h1\n            className=\"text-5xl md:text-6xl lg:text-7xl font-extrabold tracking-tight leading-[1.1] mb-4\"\n            style={{ fontFamily: \"'Playfair Display', serif\" }}\n          >\n            <span className=\"text-foreground\">Ad </span>\n            <span className=\"gold-gradient-text\">Sparkle</span>\n          </h1>\n\n          <p className=\"text-lg md:text-xl mb-3 max-w-md leading-relaxed font-medium text-muted-foreground\">\n            Ignite your brand.{\" \"}\n            <span className=\"gold-gradient-text font-semibold\">Simplify payments.</span>\n          </p>\n\n          <p className=\"text-sm mb-8 md:mb-10 max-w-sm leading-relaxed text-muted-foreground\">\n            The all-in-one admin portal to manage promoter groups, track monthly activity, and automate UPI payoutsΓÇöeffortlessly.\n          </p>\n\n          {/* CTA Buttons */}\n          <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto\">\n            <Button\n              onClick={() => router.push(\"/login\")}\n              className=\"btn-gold w-full sm:w-auto h-12 px-7 py-3 rounded-full font-bold text-sm border-0 min-h-[48px]\"\n            >\n              Admin Login\n              <ArrowRight className=\"ml-2 h-4 w-4\" />\n            </Button>\n            <Button\n              variant=\"outline\"\n              onClick={() => router.push(\"/login\")}\n              className=\"w-full sm:w-auto h-12 px-7 py-3 rounded-full font-semibold text-sm transition-transform duration-200 hover:scale-[1.02] gold-border text-foreground min-h-[48px]\"\n              style={{ background: \"var(--secondary)\", borderColor: \"rgba(212,175,55,0.3)\" }}\n            >\n              View Dashboard\n            </Button>\n          </div>\n\n          {/* Trust badges */}\n          <div className=\"flex items-center gap-4 mt-7 flex-wrap\">\n            {[\n              { label: \"300+ Promoters\", color: \"#D4AF37\" },\n              { label: \"5 Active Groups\", color: \"#F5E6A6\" },\n              { label: \"100% Secure\", color: \"#D4AF37\" },\n            ].map((b) => (\n              <div key={b.label} className=\"flex items-center gap-1.5 text-xs font-semibold\" style={{ color: b.color }}>\n                <span className=\"h-1.5 w-1.5 rounded-full\" style={{ background: b.color }} />\n                {b.label}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Right: Dashboard Mockup ΓÇö hidden on small screens to reduce DOM */}\n        <div className=\"flex-1 w-full max-w-md relative z-10 hidden md:block\">\n          <div\n            className=\"w-full rounded-3xl p-5 md:p-6 overflow-hidden relative page-enter\"\n            style={{\n              background: \"linear-gradient(160deg, #112033 0%, #0e1c2f 100%)\",\n              border: \"1px solid rgba(212,175,55,0.22)\",\n              boxShadow: \"0 20px 60px rgba(0,0,0,0.45)\",\n            }}\n          >\n            {/* Top gold strip */}\n            <div\n              className=\"absolute top-0 left-0 right-0 h-0.5 rounded-t-3xl\"\n              style={{ background: \"linear-gradient(90deg, #D4AF37, #F5E6A6, #D4AF37)\" }}\n            />\n\n            {/* Mock Header */}\n            <div className=\"flex items-center justify-between mb-5 pb-4\" style={{ borderBottom: \"1px solid rgba(212,175,55,0.1)\" }}>\n              <div className=\"flex items-center gap-3\">\n                <div className=\"h-9 w-9 flex-shrink-0 rounded-full overflow-hidden\" style={{ border: \"2px solid rgba(212,175,55,0.35)\" }}>\n                  <Image src=\"/ad-sparkle-image.png\" alt=\"AdSparkle Logo\" width={36} height={36} className=\"object-cover w-full h-full\" />\n                </div>\n                <div>\n                  <div className=\"text-sm font-bold gold-gradient-text\" style={{ fontFamily: \"'Playfair Display', serif\" }}>AdSparkle</div>\n                  <div className=\"text-[10px] font-medium text-muted-foreground\">Admin Dashboard</div>\n                </div>\n              </div>\n              <div className=\"flex gap-1.5\">\n                <div className=\"h-5 w-5 rounded-full\" style={{ background: \"rgba(212,175,55,0.12)\", border: \"1px solid rgba(212,175,55,0.2)\" }} />\n                <div className=\"h-5 w-12 rounded-full\" style={{ background: \"rgba(212,175,55,0.08)\", border: \"1px solid rgba(212,175,55,0.15)\" }} />\n              </div>\n            </div>\n\n            {/* Stats Grid */}\n            <div className=\"grid grid-cols-2 gap-3 mb-4\">\n              <div className=\"rounded-2xl p-4\" style={{ background: \"rgba(212,175,55,0.06)\", border: \"1px solid rgba(212,175,55,0.14)\" }}>\n                <div className=\"flex items-center gap-1.5 mb-2\" style={{ color: \"var(--accent)\" }}>\n                  <Users className=\"h-3.5 w-3.5\" />\n                  <span className=\"text-[10px] font-semibold uppercase tracking-wide\">Groups</span>\n                </div>\n                <div className=\"text-2xl font-black\" style={{ color: \"#F5F5F5\" }}>12</div>\n              </div>\n              <div className=\"rounded-2xl p-4\" style={{ background: \"rgba(245,230,166,0.05)\", border: \"1px solid rgba(212,175,55,0.14)\" }}>\n                <div className=\"flex items-center gap-1.5 mb-2\" style={{ color: \"var(--accent)\" }}>\n                  <Activity className=\"h-3.5 w-3.5\" />\n                  <span className=\"text-[10px] font-semibold uppercase tracking-wide\">Active</span>\n                </div>\n                <div className=\"text-2xl font-black\" style={{ color: \"var(--accent)\" }}>84</div>\n              </div>\n              <div className=\"col-span-2 rounded-2xl p-4 flex items-center justify-between\" style={{ background: \"rgba(212,175,55,0.06)\", border: \"1px solid rgba(212,175,55,0.14)\" }}>\n                <div>\n                  <div className=\"flex items-center gap-1.5 mb-1\" style={{ color: \"var(--accent)\" }}>\n                    <Wallet className=\"h-3.5 w-3.5\" />\n                    <span className=\"text-[10px] font-semibold uppercase tracking-wide\">Monthly Payout</span>\n                  </div>\n                  <div className=\"text-xl font-black\" style={{ color: \"#F5F5F5\" }}>Γé╣ 45,200</div>\n                </div>\n                <div className=\"h-10 w-20 rounded-xl flex items-center justify-center\" style={{ background: \"rgba(212,175,55,0.08)\", border: \"1px solid rgba(212,175,55,0.15)\" }}>\n                  <BarChart3 className=\"h-5 w-5\" style={{ color: \"#D4AF37\" }} />\n                </div>\n              </div>\n            </div>\n\n            {/* Mock List Items */}\n            <div className=\"space-y-2\">\n              {[0.9, 0.7, 0.5].map((opacity, i) => (\n                <div key={i} className=\"flex items-center justify-between p-3 rounded-xl\" style={{ background: \"rgba(212,175,55,0.04)\", border: \"1px solid rgba(212,175,55,0.08)\" }}>\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"h-7 w-7 rounded-full\" style={{ background: `linear-gradient(135deg, #D4AF37, #C9A227)`, opacity }} />\n                    <div className=\"space-y-1.5\">\n                      <div className=\"h-2 w-20 rounded-full\" style={{ background: \"rgba(245,230,166,0.15)\" }} />\n                      <div className=\"h-1.5 w-12 rounded-full\" style={{ background: \"rgba(212,175,55,0.1)\" }} />\n                    </div>\n                  </div>\n                  <span className=\"paid-badge text-[8px] font-bold tracking-wider\">PAID</span>\n                </div>\n              ))}\n            </div>\n\n            {/* Fade at bottom */}\n            <div\n              className=\"absolute bottom-0 left-0 right-0 h-10 pointer-events-none rounded-b-3xl\"\n              style={{ background: \"linear-gradient(to top, rgba(14,28,47,0.9), transparent)\" }}\n            />\n          </div>\n        </div>\n      </section>\n\n      {/* ΓöÇΓöÇ Features Section ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */}\n      <section\n        className=\"w-full max-w-7xl mx-auto px-4 md:px-6 py-14 md:py-20 relative z-10\"\n        style={{ borderTop: \"1px solid rgba(212,175,55,0.08)\" }}\n      >\n        <div className=\"text-center mb-10 md:mb-12\">\n          <p className=\"text-xs font-bold uppercase tracking-[0.25em] mb-3\" style={{ color: \"var(--accent)\" }}>What you get</p>\n          <h2 className=\"text-2xl md:text-3xl font-extrabold text-foreground\" style={{ fontFamily: \"'Playfair Display', serif\" }}>\n            Everything you need, <span className=\"gold-gradient-text\">nothing you don't</span>\n          </h2>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-5 md:gap-6\">\n          {FEATURES.map((card) => (\n            <div key={card.title} className=\"group p-6 md:p-7 cursor-default rounded-2xl\"\n              style={{\n                background: \"rgba(17,32,51,0.9)\",\n                border: \"1px solid rgba(212,175,55,0.18)\",\n                boxShadow: \"0 2px 10px rgba(0,0,0,0.2)\",\n              }}>\n              <div className=\"h-11 w-11 md:h-12 md:w-12 rounded-2xl flex items-center justify-center mb-5 btn-gold transition-transform duration-200 group-hover:scale-105\">\n                {card.icon}\n              </div>\n              <h3 className=\"text-base font-bold mb-2 text-foreground\" style={{ fontFamily: \"'Playfair Display', serif\" }}>{card.title}</h3>\n              <p className=\"text-sm leading-relaxed text-muted-foreground\">{card.desc}</p>\n            </div>\n          ))}\n        </div>\n      </section>\n\n      {/* ΓöÇΓöÇ Stats Section ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */}\n      <section className=\"w-full max-w-7xl mx-auto px-4 md:px-6 py-12 pb-24 md:pb-32 relative z-10\">\n        <div\n          className=\"p-0.5 rounded-3xl\"\n          style={{ background: \"linear-gradient(135deg, rgba(212,175,55,0.4), rgba(245,230,166,0.1), rgba(212,175,55,0.4))\" }}\n        >\n          <div\n            className=\"rounded-[22px] p-8 md:p-10 flex flex-col md:flex-row items-center justify-around gap-8 md:gap-10 text-center\"\n            style={{ background: \"linear-gradient(160deg, #0F2540 0%, #0B1C2D 100%)\" }}\n          >\n            {STATS.map((stat, i) => (\n              <div key={stat.label} className=\"flex md:flex-row items-center gap-8 w-full md:w-auto justify-center\">\n                <div>\n                  <div\n                    className=\"text-4xl md:text-6xl font-black tracking-tight mb-2 gold-gradient-text\"\n                    style={{ fontFamily: \"'Playfair Display', serif\" }}\n                  >\n                    {stat.value}\n                  </div>\n                  <div className=\"text-xs font-bold uppercase tracking-[0.2em] text-muted-foreground\">{stat.label}</div>\n                </div>\n                {i < 2 && <div className=\"hidden md:block w-px h-14\" style={{ background: \"rgba(212,175,55,0.2)\" }} />}\n              </div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n    </main>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\check_error.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":18},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":58}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"require('dotenv').config({ path: '.env.local' });\r\nconst { createClient } = require('@supabase/supabase-js');\r\n\r\nconst supabase = createClient(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);\r\n\r\nasync function check() {\r\n    // try to insert an invalid record to get the exact schema constraints or error\r\n    const { error } = await supabase.from('monthly_records').insert({\r\n        promoter_id: '550e8400-e29b-41d4-a716-446655440000', // random uuid\r\n        year: 2024,\r\n        month: 1,\r\n        days: 0,\r\n        payment_completed: false,\r\n        payment_status: \"pending\"\r\n    });\r\n    console.log(error);\r\n}\r\ncheck();\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\components\\profile-dropdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\components\\theme-provider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\components\\theme-toggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\components\\ui\\checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\components\\ui\\sonner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\fix-colors.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":29}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const fs = require('fs');\r\nconst path = require('path');\r\n\r\nconst files = [\r\n    'app/dashboard/page.tsx',\r\n    'app/dashboard/[groupId]/page.tsx',\r\n    'components/profile-dropdown.tsx'\r\n];\r\n\r\nconst replaces = [\r\n    { from: /bg-\\[\\#0F0F12\\]/g, to: 'bg-background' },\r\n    { from: /bg-\\[\\#18181B\\]/g, to: 'bg-card' },\r\n    { from: /bg-\\[\\#27272A\\]/g, to: 'bg-muted' },\r\n    { from: /bg-\\[\\#131316\\]/g, to: 'bg-muted/30' },\r\n    { from: /border-\\[\\#27272A\\]/g, to: 'border-border' },\r\n    { from: /text-\\[\\#A1A1AA\\]/g, to: 'text-muted-foreground' },\r\n    { from: /shadow-\\[\\#7C3AED\\]\\/10/g, to: 'shadow-primary/20' },\r\n    { from: /border-\\[\\#7C3AED\\]\\/30/g, to: 'border-primary/30' },\r\n    { from: /text-\\[\\#7C3AED\\]/g, to: 'text-primary' },\r\n    { from: /group-hover:text-\\[\\#7C3AED\\]/g, to: 'group-hover:text-primary' },\r\n    { from: /bg-white\\/10/g, to: 'bg-foreground/10' },\r\n    { from: /text-white\\/70/g, to: 'text-muted-foreground' },\r\n    { from: /text-white\\/50/g, to: 'text-muted-foreground/70' },\r\n    { from: /hover:text-white/g, to: 'hover:text-foreground' },\r\n    { from: /group-hover:text-white/g, to: 'group-hover:text-foreground' },\r\n    { from: /text-white/g, to: 'text-foreground' },\r\n];\r\n\r\nfiles.forEach(file => {\r\n    const filePath = path.join(__dirname, file);\r\n    if (fs.existsSync(filePath)) {\r\n        let content = fs.readFileSync(filePath, 'utf8');\r\n        replaces.forEach(r => {\r\n            content = content.replace(r.from, r.to);\r\n        });\r\n\r\n        // Fix up specific places that should remain text-white (like gradient badges)\r\n        // 1. Sparkles icon in dashboard page\r\n        content = content.replace(/<Sparkles className=\"([^\"]*) text-foreground\"/g, '<Sparkles className=\"$1 text-white\"');\r\n        // 2. Avatar initals in gradient bg\r\n        content = content.replace(/className=\"([^\"]*) text-foreground font-bold text-lg shadow-md/g, 'className=\"$1 text-white font-bold text-lg shadow-md');\r\n        // 3. Any element with the gradient inline style\r\n        content = content.replace(/text-foreground([^>]*style={{[^}]*linear-gradient)/g, 'text-white$1');\r\n\r\n        fs.writeFileSync(filePath, content);\r\n        console.log(`Updated ${file}`);\r\n    }\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\lib\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\lib\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\lib\\supabase\\server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\ad-sparkle-admin\\utils\\generateReport.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2238,2241],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2238,2241],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":96,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":96,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3040,3043],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3040,3043],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":112,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":112,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3576,3579],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3576,3579],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import jsPDF from \"jspdf\";\r\nimport autoTable from \"jspdf-autotable\";\r\nimport { format } from \"date-fns\";\r\n\r\nexport type ReportMember = {\r\n    name: string;\r\n    phone: string;\r\n    upi_id?: string;\r\n    payment_completed: boolean;\r\n};\r\n\r\nexport async function generatePaymentReport(\r\n    groupName: string,\r\n    year: number,\r\n    month: number,\r\n    members: ReportMember[]\r\n) {\r\n    const doc = new jsPDF();\r\n    const currentDate = format(new Date(), \"PPp\");\r\n\r\n    // Header\r\n    doc.setFont(\"helvetica\", \"bold\");\r\n    doc.setFontSize(22);\r\n    doc.setTextColor(124, 58, 237); // #7C3AED Violet\r\n    doc.text(\"AdSparkle\", 105, 20, { align: \"center\" });\r\n\r\n    doc.setFont(\"helvetica\", \"normal\");\r\n    doc.setFontSize(14);\r\n    doc.setTextColor(50, 50, 50);\r\n    doc.text(`Payment Report: ${groupName || \"Group\"}`, 105, 30, { align: \"center\" });\r\n\r\n    doc.setFontSize(10);\r\n    doc.setTextColor(100, 100, 100);\r\n    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n    doc.text(`Period: ${monthNames[month - 1]} ${year}`, 105, 36, { align: \"center\" });\r\n    doc.text(`Generated on: ${currentDate}`, 105, 42, { align: \"center\" });\r\n    doc.text(`Admin: AdSparkle Admin`, 105, 48, { align: \"center\" });\r\n\r\n    // Separate members\r\n    const paidMembers = members.filter(m => m.payment_completed);\r\n    const unpaidMembers = members.filter(m => !m.payment_completed);\r\n\r\n    let startY = 60;\r\n\r\n    // Paid Section\r\n    if (paidMembers.length > 0) {\r\n        doc.setFontSize(12);\r\n        doc.setFont(\"helvetica\", \"bold\");\r\n        doc.setTextColor(22, 163, 74); // Green\r\n        doc.text(\"Paid Members\", 14, startY);\r\n\r\n        const paidRows = paidMembers.map((m, i) => [\r\n            (i + 1).toString(),\r\n            m.name,\r\n            m.phone || \"N/A\",\r\n            m.upi_id || \"N/A\",\r\n            \"Paid\"\r\n        ]);\r\n\r\n        autoTable(doc, {\r\n            startY: startY + 5,\r\n            head: [[\"#\", \"Name\", \"Phone\", \"UPI ID\", \"Status\"]],\r\n            body: paidRows,\r\n            theme: \"grid\",\r\n            styles: { fontSize: 9 },\r\n            headStyles: { fillColor: [22, 163, 74] },\r\n        });\r\n\r\n        startY = (doc as any).lastAutoTable.finalY + 15;\r\n    }\r\n\r\n    // Unpaid Section\r\n    if (unpaidMembers.length > 0) {\r\n        doc.setFontSize(12);\r\n        doc.setFont(\"helvetica\", \"bold\");\r\n        doc.setTextColor(220, 38, 38); // Red\r\n        doc.text(\"Unpaid Members\", 14, startY);\r\n\r\n        const unpaidRows = unpaidMembers.map((m, i) => [\r\n            (i + 1).toString(),\r\n            m.name,\r\n            m.phone || \"N/A\",\r\n            m.upi_id || \"N/A\",\r\n            \"Pending\"\r\n        ]);\r\n\r\n        autoTable(doc, {\r\n            startY: startY + 5,\r\n            head: [[\"#\", \"Name\", \"Phone\", \"UPI ID\", \"Status\"]],\r\n            body: unpaidRows,\r\n            theme: \"grid\",\r\n            styles: { fontSize: 9 },\r\n            headStyles: { fillColor: [220, 38, 38] },\r\n        });\r\n\r\n        startY = (doc as any).lastAutoTable.finalY + 15;\r\n    }\r\n\r\n    // Summary\r\n    doc.setFontSize(12);\r\n    doc.setFont(\"helvetica\", \"bold\");\r\n    doc.setTextColor(50, 50, 50);\r\n    doc.text(\"Summary\", 14, startY);\r\n\r\n    doc.setFont(\"helvetica\", \"normal\");\r\n    doc.setFontSize(10);\r\n    doc.text(`Total Members: ${members.length}`, 14, startY + 8);\r\n    doc.text(`Total Paid: ${paidMembers.length}`, 14, startY + 14);\r\n    doc.text(`Total Unpaid: ${unpaidMembers.length}`, 14, startY + 20);\r\n\r\n    // Page numbers\r\n    const pageCount = (doc.internal as any).getNumberOfPages();\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        doc.setPage(i);\r\n        doc.setFontSize(8);\r\n        doc.setTextColor(150, 150, 150);\r\n        doc.text(`Page ${i} of ${pageCount}`, doc.internal.pageSize.getWidth() / 2, doc.internal.pageSize.getHeight() - 10, { align: \"center\" });\r\n    }\r\n\r\n    // Save\r\n    const cleanGroupName = (groupName || \"Group\").replace(/[^a-zA-Z0-9]/g, \"_\");\r\n    const filename = `AdSparkle_${cleanGroupName}_${monthNames[month - 1]}_${year}_Report.pdf`;\r\n    doc.save(filename);\r\n}\r\n","usedDeprecatedRules":[]}]
